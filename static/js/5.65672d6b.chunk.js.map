{"version":3,"sources":["views/NewsListing/NewsListing.jsx"],"names":["NewsListing","useState","category","setCategory","title","setTitle","data","setData","canLoadMore","setCanLoadMore","offset","setOffset","fullPageLoading","setFullPageLoading","loadMoreLoading","setLoadMoreLoading","useEffect","setTimeout","_news","News","res","search","prev","PER_PAGE","loadMore","useCallback","id","breadCrumbs","className","setCategoryValue","setTitleValue","type","color","LOADER_COLOR","height","width","visible","length","map","item","index","key","easternBlueBtn","onClick"],"mappings":"uRAqGeA,EA7FI,WAAK,IAAD,EAEYC,mBAAS,IAFrB,mBAEdC,EAFc,KAEHC,EAFG,OAGMF,mBAAS,IAHf,mBAGdG,EAHc,KAGNC,EAHM,OAKOJ,mBAAS,IALhB,mBAKXK,EALW,KAKJC,EALI,OAMqBN,oBAAS,GAN9B,mBAMXO,EANW,KAMGC,EANH,OAOWR,mBAAS,GAPpB,mBAOXS,EAPW,KAOFC,EAPE,OAQ6BV,oBAAS,GARtC,mBAQXW,EARW,KAQOC,EARP,OAS6BZ,oBAAS,GATtC,mBASXa,EATW,KASOC,EATP,KAWnBC,qBAAU,WACRH,GAAmB,GACnBI,YAAW,WACT,IAAMC,EAAQ,IAAIC,IAClBR,EAAU,GACV,IAAIS,EAAMF,EAAMG,OAAOjB,EAASF,EAAU,GAC1CK,EAAQa,EAAId,MACZG,EAAeW,EAAIZ,aACnBK,GAAmB,GACnBF,GAAU,SAAAW,GAAI,OAAIA,EAAOC,SACxB,OACH,CAACrB,EAASE,IAIZ,IAAMoB,EAAWC,uBAAY,WAC3BhB,GAAe,GACfM,GAAmB,GACnBE,YAAW,WACT,IACIG,GADU,IAAID,KACFE,OAAOjB,EAASF,EAAUQ,GAC1CC,EAAUD,EAASa,KACnBhB,EAAQ,GAAD,mBAAMD,GAAN,YAAgBc,EAAId,QAC3BG,EAAeW,EAAIZ,aACnBO,GAAmB,KACnB,OACF,CAACT,EAAOG,EAAiBM,EAAqBX,EAASF,EAAUQ,IAIrE,OAAQ,yBAAMgB,GAAI,qBACZ,kBAAC,IAAD,CAAYC,YAAa,CAAC,mBAC1B,yBAAKC,UAAW,mBACd,uBAAGF,GAAI,cAAP,kBAED,kBAAC,IAAD,CAAQG,iBAAkB1B,EAAa2B,cAAezB,IACtD,yBAAKuB,UAAW,mBACd,yBAAKA,UAAW,OACdhB,EACA,yBAAKgB,UAAW,aACd,yBAAKA,UAAW,8BAChB,kBAAC,IAAD,CACGG,KAAK,OACLC,MAAOC,IACPC,OAAQ,IACRC,MAAO,IACPC,QAASxB,MAGP,KACTN,EAAK+B,SAAWzB,EAAgBN,EAAKgC,KAAI,SAACC,EAAKC,GAAN,OAAc,yBAAKC,IAAKD,EAAOZ,UAAW,YAChF,yBAAKA,UAAW,2BACb,kBAAC,IAAD,CAAkBc,gBAAc,EAACH,KAAMA,SAEpC3B,EAIH,KAJoB,yBAAKgB,UAAW,aACvC,yBAAKA,UAAW,WACZ,iDAGR,yBAAKA,UAAW,uBACXpB,IAAgBM,IAAoBF,GAAmBN,EAAK+B,OAC3D,4BAAQM,QAASnB,EAAUE,GAAI,aAA/B,aACD,KAEFZ,EAAiB,yBAAKc,UAAW,8BAC9B,kBAAC,IAAD,CACIG,KAAK,OACLC,MAAOC,IACPC,OAAQ,GACRC,MAAO,GACPC,QAAStB,KAER","file":"static/js/5.65672d6b.chunk.js","sourcesContent":["import React, { useState , useEffect , useCallback } from 'react';\r\nimport { Filter , BreadCrumb, PressReleaseCard } from '../../components';\r\nimport Loader from 'react-loader-spinner'\r\nimport \"react-loader-spinner/dist/loader/css/react-spinner-loader.css\"\r\nimport './NewsListing.style.sass'\r\nimport News from '../../models/news';\r\nimport { PER_PAGE, LOADER_COLOR } from '../../constants';\r\n\r\nconst NewsListing= ()=>{\r\n\r\n  const [category , setCategory] = useState('')\r\n  const [title , setTitle] = useState('')\r\n    // custom search\r\n    const [ data , setData] = useState([])\r\n    const [ canLoadMore , setCanLoadMore] = useState(false)\r\n    const [ offset , setOffset] = useState(0)\r\n    const [ fullPageLoading , setFullPageLoading] = useState(true)\r\n    const [ loadMoreLoading , setLoadMoreLoading] = useState(false)\r\n    \r\n    useEffect(()=>{\r\n      setFullPageLoading(true)\r\n      setTimeout(() => {\r\n        const _news = new News()\r\n        setOffset(0)\r\n        let res = _news.search(title  , category ,0)\r\n        setData(res.data)\r\n        setCanLoadMore(res.canLoadMore)\r\n        setFullPageLoading(false)\r\n        setOffset(prev => prev + PER_PAGE)\r\n      }, 3000);\r\n    },[category,title])\r\n  \r\n  \r\n  \r\n    const loadMore = useCallback(()=>{\r\n      setCanLoadMore(false)\r\n      setLoadMoreLoading(true)\r\n      setTimeout(()=>{\r\n        const _news = new News()\r\n        let res = _news.search(title  , category ,offset)\r\n        setOffset(offset + PER_PAGE)\r\n        setData([ ...data , ...res.data ])\r\n        setCanLoadMore(res.canLoadMore)\r\n        setLoadMoreLoading(false)\r\n      },1000)\r\n    },[data , setCanLoadMore , setLoadMoreLoading , title  , category ,offset]) \r\n\r\n    \r\n\r\n  return (<div  id={'news-listing-page'}>\r\n        <BreadCrumb breadCrumbs={['Press Release']} />\r\n        <div className={'container-fluid'}>\r\n          <p id={'page-title'}>PRESS RELEASE</p>\r\n        </div>\r\n         <Filter setCategoryValue={setCategory} setTitleValue={setTitle}  />\r\n         <div className={'container-fluid'}>\r\n           <div className={'row'}>\r\n            {fullPageLoading?\r\n             <div className={'col-sm-12'}>\r\n               <div className={'full-page-loader-container'}>\r\n               <Loader\r\n                  type=\"Oval\"\r\n                  color={LOADER_COLOR}\r\n                  height={100}\r\n                  width={100}\r\n                  visible={fullPageLoading}\r\n                />\r\n                </div>\r\n             </div>:null}\r\n          {data.length && !fullPageLoading?data.map((item,index)=><div key={index} className={'col-md-3'}> \r\n              <div className={'press-release-container'}>\r\n                 <PressReleaseCard easternBlueBtn item={item} />\r\n              </div>\r\n          </div>): !fullPageLoading? <div className={'col-sm-12'}>\r\n              <div className={'no-data'}>\r\n                  <p>No Data To Show.</p>\r\n              </div>  \r\n          </div>:null}\r\n          <div className={'load-more-container'}>\r\n              {canLoadMore && !loadMoreLoading && !fullPageLoading && data.length?\r\n                <button onClick={loadMore} id={'load-more'}>LOAD MORE</button>\r\n              :null}\r\n\r\n            {loadMoreLoading ?<div className={'load-more-loader-container'}>\r\n                <Loader\r\n                    type=\"Oval\"\r\n                    color={LOADER_COLOR}\r\n                    height={50}\r\n                    width={50}\r\n                    visible={loadMoreLoading}\r\n                  />\r\n              </div>:null}\r\n\r\n          </div>\r\n         \r\n          </div>\r\n      </div>\r\n    </div>             \r\n  );\r\n}\r\n\r\nexport default NewsListing;\r\n"],"sourceRoot":""}