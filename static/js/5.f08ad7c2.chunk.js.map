{"version":3,"sources":["views/NewsListing/NewsListing.jsx"],"names":["React","memo","useState","category","setCategory","title","setTitle","data","setData","canLoadMore","setCanLoadMore","news","useRef","News","offset","setOffset","fullPageLoading","setFullPageLoading","loadMoreLoading","setLoadMoreLoading","useEffect","setTimeout","_news","console","log","search","res","PER_PAGE","loadMore","useCallback","id","breadCrumbs","className","setCategoryValue","setTitleValue","type","color","LOADER_COLOR","height","width","visible","length","map","item","index","key","easternBlueBtn","onClick"],"mappings":"uRAuGeA,MAAMC,MA/FF,WAAK,IAAD,EAEYC,mBAAS,IAFrB,mBAEdC,EAFc,KAEHC,EAFG,OAGMF,mBAAS,IAHf,mBAGdG,EAHc,KAGNC,EAHM,OAKOJ,mBAAS,IALhB,mBAKXK,EALW,KAKJC,EALI,OAMqBN,oBAAS,GAN9B,mBAMXO,EANW,KAMGC,EANH,KAObC,EAAOC,iBAAO,IAAIC,KAPL,EAQWX,mBAAS,GARpB,mBAQXY,EARW,KAQFC,EARE,OAS6Bb,oBAAS,GATtC,mBASXc,EATW,KASOC,EATP,OAU6Bf,oBAAS,GAVtC,mBAUXgB,EAVW,KAUOC,EAVP,KAYnBC,qBAAU,WACRH,GAAmB,GACnBI,YAAW,WACT,IAAMC,EAAQ,IAAIT,IAClBE,EAAU,GACVQ,QAAQC,IAAIF,EAAMG,OAAOpB,EAASF,EAAU,IAC5C,IAAIuB,EAAMJ,EAAMG,OAAOpB,EAASF,EAAU,GAC1CK,EAAQkB,EAAInB,MACZG,EAAegB,EAAIjB,aACnBM,EAAUD,EAASa,KACnBV,GAAmB,KAClB,OACH,CAACd,EAASE,IAIZ,IAAMuB,EAAWC,uBAAY,WAC3BnB,GAAe,GACfS,GAAmB,GACnBE,YAAW,WACT,IAEIK,GADU,IAAIb,KACFY,OAAOpB,EAASF,EAAUW,GAC1CC,EAAUD,EAASa,KACnBnB,EAAQ,GAAD,mBAAKkB,EAAInB,MAAT,YAAmBA,KAC1BG,EAAegB,EAAIjB,aACnBU,GAAmB,KACnB,OACF,CAACR,EAAMJ,EAAOG,EAAiBS,IAInC,OAAQ,yBAAMW,GAAI,qBACZ,kBAAC,IAAD,CAAYC,YAAa,CAAC,mBAC1B,yBAAKC,UAAW,mBACd,uBAAGF,GAAI,cAAP,kBAED,kBAAC,IAAD,CAAQG,iBAAkB7B,EAAa8B,cAAe5B,IACtD,yBAAK0B,UAAW,mBACd,yBAAKA,UAAW,OACdhB,EAAiB,yBAAKgB,UAAW,aAC/B,yBAAKA,UAAW,8BAChB,kBAAC,IAAD,CACGG,KAAK,OACLC,MAAOC,IACPC,OAAQ,IACRC,MAAO,IACPC,SAAS,MAGP,KACTjC,EAAKkC,OAAOlC,EAAKmC,KAAI,SAACC,EAAKC,GAAN,OAAc,yBAAKC,IAAKD,EAAOZ,UAAW,YAC5D,yBAAKA,UAAW,2BACb,kBAAC,IAAD,CAAkBc,gBAAc,EAACH,KAAMA,SAEpC3B,EAIH,KAJoB,yBAAKgB,UAAW,aACvC,yBAAKA,UAAW,WACZ,iDAGR,yBAAKA,UAAW,mBACXvB,GAAeF,EAAKkC,OACnB,4BAAQM,QAASnB,EAAUE,GAAI,aAA/B,aACD,KAEFZ,EAAgB,yBAAKc,UAAW,8BAC7B,kBAAC,IAAD,CACIG,KAAK,OACLC,MAAOC,IACPC,OAAQ,GACRC,MAAO,GACPC,SAAS,KAER","file":"static/js/5.f08ad7c2.chunk.js","sourcesContent":["import React, { useState , useEffect , useCallback , useRef } from 'react';\r\nimport { Filter , BreadCrumb, PressReleaseCard } from '../../components';\r\nimport Loader from 'react-loader-spinner'\r\nimport \"react-loader-spinner/dist/loader/css/react-spinner-loader.css\"\r\nimport './NewsListing.style.sass'\r\nimport News from '../../models/news';\r\nimport { PER_PAGE, LOADER_COLOR } from '../../constants';\r\n\r\nconst NewsListing= ()=>{\r\n\r\n  const [category , setCategory] = useState('')\r\n  const [title , setTitle] = useState('')\r\n    // custom search\r\n    const [ data , setData] = useState([])\r\n    const [ canLoadMore , setCanLoadMore] = useState(false)\r\n    const news = useRef(new News())\r\n    const [ offset , setOffset] = useState(0)\r\n    const [ fullPageLoading , setFullPageLoading] = useState(false)\r\n    const [ loadMoreLoading , setLoadMoreLoading] = useState(false)\r\n    \r\n    useEffect(()=>{\r\n      setFullPageLoading(true)\r\n      setTimeout(() => {\r\n        const _news = new News()\r\n        setOffset(0)\r\n        console.log(_news.search(title  , category ,0))\r\n        let res = _news.search(title  , category ,0)\r\n        setData(res.data)\r\n        setCanLoadMore(res.canLoadMore)\r\n        setOffset(offset + PER_PAGE)\r\n        setFullPageLoading(false)\r\n      }, 3000);\r\n    },[category,title])\r\n  \r\n  \r\n  \r\n    const loadMore = useCallback(()=>{\r\n      setCanLoadMore(false)\r\n      setLoadMoreLoading(true)\r\n      setTimeout(()=>{\r\n        let loaded = []\r\n        const _news = new News()\r\n        let res = _news.search(title  , category ,offset)\r\n        setOffset(offset + PER_PAGE)\r\n        setData([...res.data , ...data])\r\n        setCanLoadMore(res.canLoadMore)\r\n        setLoadMoreLoading(false)\r\n      },3000)\r\n    },[news ,data , setCanLoadMore , setLoadMoreLoading]) \r\n\r\n    \r\n\r\n  return (<div  id={'news-listing-page'}>\r\n        <BreadCrumb breadCrumbs={['Press Release']} />\r\n        <div className={'container-fluid'}>\r\n          <p id={'page-title'}>PRESS RELEASE</p>\r\n        </div>\r\n         <Filter setCategoryValue={setCategory} setTitleValue={setTitle}  />\r\n         <div className={'container-fluid'}>\r\n           <div className={'row'}>\r\n            {fullPageLoading? <div className={'col-sm-12'}>\r\n               <div className={'full-page-loader-container'}>\r\n               <Loader\r\n                  type=\"Oval\"\r\n                  color={LOADER_COLOR}\r\n                  height={100}\r\n                  width={100}\r\n                  visible={true}\r\n                />\r\n                </div>\r\n             </div>:null}\r\n          {data.length?data.map((item,index)=><div key={index} className={'col-md-3'}> \r\n              <div className={'press-release-container'}>\r\n                 <PressReleaseCard easternBlueBtn item={item} />\r\n              </div>\r\n          </div>): !fullPageLoading? <div className={'col-sm-12'}>\r\n              <div className={'no-data'}>\r\n                  <p>No Data To Show.</p>\r\n              </div>  \r\n          </div>:null}\r\n          <div className={'container-fluid'}>\r\n              {canLoadMore && data.length?\r\n                <button onClick={loadMore} id={'load-more'}>LOAD MORE</button>\r\n              :null}\r\n\r\n            {loadMoreLoading?<div className={'load-more-loader-container'}>\r\n                <Loader\r\n                    type=\"Oval\"\r\n                    color={LOADER_COLOR}\r\n                    height={50}\r\n                    width={50}\r\n                    visible={true}\r\n                  />\r\n              </div>:null}\r\n\r\n          </div>\r\n         \r\n          </div>\r\n      </div>\r\n    </div>             \r\n  );\r\n}\r\n\r\nexport default React.memo(NewsListing);\r\n"],"sourceRoot":""}